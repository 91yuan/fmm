<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fast map matching: /Users/canyang/Workspace/fmm/src/mm/stmatch/stmatch_algorithm.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fast map matching
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ab09485bdc122e425bd6417e92d7acba.html">mm</a></li><li class="navelem"><a class="el" href="dir_bb3e4e615e86612b240d1519c9cc791a.html">stmatch</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">stmatch_algorithm.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;mm/stmatch/stmatch_algorithm.hpp&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;algorithm/geom_algorithm.hpp&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;util/debug.hpp&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;util/util.hpp&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_f_m_m.html">FMM</a>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_f_m_m_1_1_c_o_r_e.html">FMM::CORE</a>;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html">FMM::NETWORK</a>;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_f_m_m_1_1_m_m.html">FMM::MM</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespace_f_m_m_1_1_p_y_t_h_o_n.html">FMM::PYTHON</a>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a22c9a653bf27a3377d2d8f6a4b34ddf6">   14</a></span>&#160;STMATCHConfig::STMATCHConfig(</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keywordtype">int</span> k_arg, <span class="keywordtype">double</span> r_arg, <span class="keywordtype">double</span> gps_error_arg,</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keywordtype">double</span> vmax_arg, <span class="keywordtype">double</span> factor_arg) :</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    k(k_arg), radius(r_arg), gps_error(gps_error_arg),</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    vmax(vmax_arg), factor(factor_arg) {</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;};</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4eca23ea9833cead180e09d2ca8c95f8">   21</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4eca23ea9833cead180e09d2ca8c95f8">STMATCHConfig::print</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  SPDLOG_INFO(<span class="stringliteral">&quot;STMATCHAlgorithmConfig&quot;</span>);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  SPDLOG_INFO(<span class="stringliteral">&quot;k {} radius {} gps_error {} vmax {} factor {}&quot;</span>,</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;              <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a03e698b059a77700d9614369c65c7cd9">k</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a9f8efc49f5875809d8107d879ea65c80">radius</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a6288cb6b2516fa54e7500a93f6fad633">gps_error</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4ada86e8de3382dd2fa96adf4cb467a1">vmax</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">factor</a>);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;};</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a8f908241fd8ec5a62e95f48993aac749">   27</a></span>&#160;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html">STMATCHConfig</a> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a8f908241fd8ec5a62e95f48993aac749">STMATCHConfig::load_from_xml</a>(</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keyword">const</span> boost::property_tree::ptree &amp;xml_data) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a03e698b059a77700d9614369c65c7cd9">k</a> = xml_data.get(<span class="stringliteral">&quot;config.parameters.k&quot;</span>, 8);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a9f8efc49f5875809d8107d879ea65c80">radius</a> = xml_data.get(<span class="stringliteral">&quot;config.parameters.r&quot;</span>, 300.0);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a6288cb6b2516fa54e7500a93f6fad633">gps_error</a> = xml_data.get(<span class="stringliteral">&quot;config.parameters.gps_error&quot;</span>, 50.0);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4ada86e8de3382dd2fa96adf4cb467a1">vmax</a> = xml_data.get(<span class="stringliteral">&quot;config.parameters.vmax&quot;</span>, 80.0);;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">factor</a> = xml_data.get(<span class="stringliteral">&quot;config.parameters.factor&quot;</span>, 1.5);;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html">STMATCHConfig</a>{<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a03e698b059a77700d9614369c65c7cd9">k</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a9f8efc49f5875809d8107d879ea65c80">radius</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a6288cb6b2516fa54e7500a93f6fad633">gps_error</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4ada86e8de3382dd2fa96adf4cb467a1">vmax</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">factor</a>};</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;};</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a8d7032b694c0fc4b44901986988ccafd">   37</a></span>&#160;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html">STMATCHConfig</a> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a8d7032b694c0fc4b44901986988ccafd">STMATCHConfig::load_from_arg</a>(</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">const</span> cxxopts::ParseResult &amp;arg_data) {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a03e698b059a77700d9614369c65c7cd9">k</a> = arg_data[<span class="stringliteral">&quot;candidates&quot;</span>].as&lt;<span class="keywordtype">int</span>&gt;();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a9f8efc49f5875809d8107d879ea65c80">radius</a> = arg_data[<span class="stringliteral">&quot;radius&quot;</span>].as&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a6288cb6b2516fa54e7500a93f6fad633">gps_error</a> = arg_data[<span class="stringliteral">&quot;error&quot;</span>].as&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4ada86e8de3382dd2fa96adf4cb467a1">vmax</a> = arg_data[<span class="stringliteral">&quot;vmax&quot;</span>].as&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">factor</a> = arg_data[<span class="stringliteral">&quot;factor&quot;</span>].as&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html">STMATCHConfig</a>{<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a03e698b059a77700d9614369c65c7cd9">k</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a9f8efc49f5875809d8107d879ea65c80">radius</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a6288cb6b2516fa54e7500a93f6fad633">gps_error</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4ada86e8de3382dd2fa96adf4cb467a1">vmax</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">factor</a>};</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;};</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a25967120d6ae4ec4821645131c8fe568">   47</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a25967120d6ae4ec4821645131c8fe568">STMATCHConfig::validate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a6288cb6b2516fa54e7500a93f6fad633">gps_error</a> &lt;= 0 || <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a9f8efc49f5875809d8107d879ea65c80">radius</a> &lt;= 0 || <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a03e698b059a77700d9614369c65c7cd9">k</a> &lt;= 0 || <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4ada86e8de3382dd2fa96adf4cb467a1">vmax</a> &lt;= 0 || <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">factor</a> &lt;= 0) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    SPDLOG_CRITICAL(<span class="stringliteral">&quot;Invalid mm parameter k {} r {} gps error {} vmax {} f {}&quot;</span>,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                    <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a03e698b059a77700d9614369c65c7cd9">k</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a9f8efc49f5875809d8107d879ea65c80">radius</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a6288cb6b2516fa54e7500a93f6fad633">gps_error</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4ada86e8de3382dd2fa96adf4cb467a1">vmax</a>, <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">factor</a>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#a6faa6ab5c3b4e446e57a11ebc12b4034">   56</a></span>&#160;<a class="code" href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html">PyMatchResult</a> <a class="code" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#a6faa6ab5c3b4e446e57a11ebc12b4034">STMATCH::match_wkt</a>(</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">const</span> std::string &amp;wkt, <span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html">STMATCHConfig</a> &amp;config) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="class_f_m_m_1_1_c_o_r_e_1_1_line_string.html">LineString</a> line = <a class="code" href="namespace_f_m_m_1_1_c_o_r_e.html#a0b687e932225892c4d165994b67f07b1">wkt2linestring</a>(wkt);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  std::vector&lt;double&gt; timestamps;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html">Trajectory</a> traj{0, line, timestamps};</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html">MatchResult</a> result = <a class="code" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#abeaa72ea2ad3e4b7679f03a2ac056b16">match_traj</a>(traj, config);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <a class="code" href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html">PyMatchResult</a> output;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  output.<a class="code" href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#ac7693d8ab7b07ad23fe96aa3e1244fc0">id</a> = result.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html#a0446d5d9304ee111236bbfb4cfcfca57">id</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  output.<a class="code" href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#a4a85d37cadc96500402e3878a5b01343">opath</a> = result.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html#ae782d9a7ce9a6718f92149e87b17f9fd">opath</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  output.<a class="code" href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#ad9f43bde5a423fa7aa1b5d3bc0d9d1f1">cpath</a> = result.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html#a43fe3c9d1b28a6f1e709367355dcd509">cpath</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  output.<a class="code" href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#a327001e0d1deb5ceeb2b26a6d0a853df">mgeom</a> = result.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html#a08b31edd0a0afeb7d532e7f270de370e">mgeom</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  output.<a class="code" href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#af45eb0e62513613dc24a1c1d4f7a46f3">indices</a> = result.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html#a4aee2d2327e9f6f4029179cb176cb8e6">indices</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; result.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html#af357c5eb450fd7a09dcbd02ade55248f">opt_candidate_path</a>.size(); ++i) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html">MatchedCandidate</a> &amp;mc = result.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html#af357c5eb450fd7a09dcbd02ade55248f">opt_candidate_path</a>[i];</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    output.<a class="code" href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#adbfb5013db2c6651e905ed3326fdf16b">candidates</a>.push_back(</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        {i,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;         mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a9ce7eea008a460937be04542787e1e48">c</a>.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ae365a2e0c18277fe5109fb347de2a37f">id</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;         graph_.<a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_network_graph.html#a1fb25f762b13811b9ecbbae9348dba76">get_node_id</a>(mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a9ce7eea008a460937be04542787e1e48">c</a>.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ac0978bf50901e262c32ae0b6de29e2d5">source</a>),</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;         graph_.<a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_network_graph.html#a1fb25f762b13811b9ecbbae9348dba76">get_node_id</a>(mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a9ce7eea008a460937be04542787e1e48">c</a>.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#aea442fa7c944e87b2aea41ffb175982d">target</a>),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;         mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a9ce7eea008a460937be04542787e1e48">c</a>.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a01b3ffece734f634296ab1c119cbf858">dist</a>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;         mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a9ce7eea008a460937be04542787e1e48">c</a>.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#ad3cf459cf51b459381e0e03ce7c4d4c5">offset</a>,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;         mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a9ce7eea008a460937be04542787e1e48">c</a>.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#a54256643086396646fbf2611ef708ea4">length</a>,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;         mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a41a90b037fa57a4d097fb5a13ed2ce70">ep</a>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;         mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a570fdaf4ef35339477e9cddd704fa9a8">tp</a>,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;         mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a69781988abe154fd11693071be8d39b8">sp_dist</a>}</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    );</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    output.<a class="code" href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#acdfceb8d5b3ff3f2376f9805a39b1378">pgeom</a>.<a class="code" href="class_f_m_m_1_1_c_o_r_e_1_1_line_string.html#a792bb66beaab9c4eb008573ac715fd24">add_point</a>(mc.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a9ce7eea008a460937be04542787e1e48">c</a>.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a026650c8f5b4e7a66d2b644f5f107484">point</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">return</span> output;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;};</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// Procedure of HMM based map matching algorithm.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#abeaa72ea2ad3e4b7679f03a2ac056b16">   88</a></span>&#160;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html">MatchResult</a> <a class="code" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#abeaa72ea2ad3e4b7679f03a2ac056b16">STMATCH::match_traj</a>(<span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html">Trajectory</a> &amp;traj,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                <span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html">STMATCHConfig</a> &amp;config) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Count of points in trajectory {}&quot;</span>, traj.<a class="code" href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html#a3cd9b035cbe40dba26629030abb58305">geom</a>.<a class="code" href="class_f_m_m_1_1_c_o_r_e_1_1_line_string.html#af84353cda3ddae7afbac33883be29145">get_num_points</a>());</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Search candidates&quot;</span>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="namespace_f_m_m_1_1_m_m.html#ae34897f0e60dc6a0ac89b1041d20a7b6">Traj_Candidates</a> tc = network_.<a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_network.html#a06edb186a8f2ccd27421daf2a8bac7ce">search_tr_cs_knn</a>(</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      traj.<a class="code" href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html#a3cd9b035cbe40dba26629030abb58305">geom</a>, config.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a03e698b059a77700d9614369c65c7cd9">k</a>, config.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a9f8efc49f5875809d8107d879ea65c80">radius</a>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Trajectory candidate {}&quot;</span>, tc);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (tc.empty()) <span class="keywordflow">return</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html">MatchResult</a>{};</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Generate dummy graph&quot;</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="class_f_m_m_1_1_m_m_1_1_dummy_graph.html">DummyGraph</a> dg(tc);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Generate composite_graph&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="class_f_m_m_1_1_m_m_1_1_composite_graph.html">CompositeGraph</a> cg(graph_, dg);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Generate composite_graph&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="class_f_m_m_1_1_m_m_1_1_transition_graph.html">TransitionGraph</a> tg(tc, config.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a6288cb6b2516fa54e7500a93f6fad633">gps_error</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Update cost in transition graph&quot;</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// The network will be used internally to update transition graph</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#a0faf1b4e43066379667fa6a191b79c42">update_tg</a>(&amp;tg, cg, traj, config);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Optimal path inference&quot;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="namespace_f_m_m_1_1_m_m.html#a44e9375751c6c81feeda010b19c1eb16">TGOpath</a> tg_opath = tg.<a class="code" href="class_f_m_m_1_1_m_m_1_1_transition_graph.html#a22164ef2df27151dd8191b79dff4ad51">backtrack</a>();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Optimal path size {}&quot;</span>, tg_opath.size());</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="namespace_f_m_m_1_1_m_m.html#a5713445758fdc15b3e6845ea5e156dc3">MatchedCandidatePath</a> matched_candidate_path(tg_opath.size());</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  std::transform(tg_opath.begin(), tg_opath.end(),</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                 matched_candidate_path.begin(),</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                 [](<span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_t_g_node.html">TGNode</a> *a) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                   return MatchedCandidate{</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                       *(a-&gt;c), a-&gt;ep, a-&gt;tp, a-&gt;sp_dist</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                   };</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                 });</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="namespace_f_m_m_1_1_m_m.html#a5fe5a4a7accb676f64dd1a9ac74ddcac">O_Path</a> opath(tg_opath.size());</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  std::transform(tg_opath.begin(), tg_opath.end(),</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                 opath.begin(),</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                 [](<span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_t_g_node.html">TGNode</a> *a) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                   return a-&gt;c-&gt;edge-&gt;id;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                 });</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  std::vector&lt;int&gt; indices;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="namespace_f_m_m_1_1_m_m.html#ab319e9bef4adb9bc00c081573b6f765b">C_Path</a> cpath = build_cpath(tg_opath, &amp;indices);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Opath is {}&quot;</span>, opath);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Indices is {}&quot;</span>, indices);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Complete path is {}&quot;</span>, cpath);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="class_f_m_m_1_1_c_o_r_e_1_1_line_string.html">LineString</a> mgeom = network_.complete_path_to_geometry(</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      traj.geom, cpath);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html">MatchResult</a>{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      traj.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_match_result.html#a0446d5d9304ee111236bbfb4cfcfca57">id</a>, matched_candidate_path, opath, cpath, indices, mgeom};</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#a0faf1b4e43066379667fa6a191b79c42">  133</a></span>&#160;<span class="keywordtype">void</span> STMATCH::update_tg(<a class="code" href="class_f_m_m_1_1_m_m_1_1_transition_graph.html">TransitionGraph</a> *tg,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                        <span class="keyword">const</span> <a class="code" href="class_f_m_m_1_1_m_m_1_1_composite_graph.html">CompositeGraph</a> &amp;cg,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                        <span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html">Trajectory</a> &amp;traj,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                        <span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html">STMATCHConfig</a> &amp;config) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Update transition graph&quot;</span>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  std::vector&lt;TGLayer&gt; &amp;layers = tg-&gt;<a class="code" href="class_f_m_m_1_1_m_m_1_1_transition_graph.html#a0524ced137b747586da15ed28da4712f">get_layers</a>();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  std::vector&lt;double&gt; eu_dists = <a class="code" href="namespace_f_m_m_1_1_a_l_g_o_r_i_t_h_m.html#af621c133a7effad2cbea9e614367818a">ALGORITHM::cal_eu_dist</a>(traj.<a class="code" href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html#a3cd9b035cbe40dba26629030abb58305">geom</a>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordtype">int</span> N = layers.size();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; N - 1; ++i) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// Routing from current_layer to next_layer</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    SPDLOG_TRACE(<span class="stringliteral">&quot;Update layer {} &quot;</span>, i);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">double</span> delta = 0;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (traj.<a class="code" href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html#a7d9c261e65d8e07fea53539ff1642500">timestamps</a>.size() != N) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      delta = eu_dists[i] * config.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">factor</a> * 4;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordtype">double</span> duration = traj.<a class="code" href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html#a7d9c261e65d8e07fea53539ff1642500">timestamps</a>[i + 1] - traj.<a class="code" href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html#a7d9c261e65d8e07fea53539ff1642500">timestamps</a>[i];</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      delta = config.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">factor</a> * config.<a class="code" href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4ada86e8de3382dd2fa96adf4cb467a1">vmax</a> * duration;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    update_layer(i, &amp;(layers[i]), &amp;(layers[i + 1]),</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                 cg, eu_dists[i], delta);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Update transition graph done&quot;</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#a4f7da987a85921ce59ab9f248dcfb3b2">  157</a></span>&#160;<span class="keywordtype">void</span> STMATCH::update_layer(<span class="keywordtype">int</span> level, <a class="code" href="namespace_f_m_m_1_1_m_m.html#acc79b4661cbb37632647cb2a8125e551">TGLayer</a> *la_ptr, <a class="code" href="namespace_f_m_m_1_1_m_m.html#acc79b4661cbb37632647cb2a8125e551">TGLayer</a> *lb_ptr,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                           <span class="keyword">const</span> <a class="code" href="class_f_m_m_1_1_m_m_1_1_composite_graph.html">CompositeGraph</a> &amp;cg,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                           <span class="keywordtype">double</span> eu_dist,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                           <span class="keywordtype">double</span> delta) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// SPDLOG_TRACE(&quot;Update layer&quot;);</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="namespace_f_m_m_1_1_m_m.html#acc79b4661cbb37632647cb2a8125e551">TGLayer</a> &amp;lb = *lb_ptr;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = la_ptr-&gt;begin(); iter != la_ptr-&gt;end(); ++iter) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html#afb9b00547afc39bc77ee8eb3d07f9bc5">NodeIndex</a> source = iter-&gt;c-&gt;index;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    SPDLOG_TRACE(<span class="stringliteral">&quot;  Calculate distance from source {}&quot;</span>, source);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// single source upper bound routing</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    std::vector&lt;NodeIndex&gt; targets(lb.size());</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    std::transform(lb.begin(), lb.end(), targets.begin(),</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                   [](<a class="code" href="struct_f_m_m_1_1_m_m_1_1_t_g_node.html">TGNode</a> &amp;a) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                     return a.c-&gt;index;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                   });</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    SPDLOG_TRACE(<span class="stringliteral">&quot;  Upperbound shortest path {} &quot;</span>, delta);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    std::vector&lt;double&gt; distances = shortest_path_upperbound(</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        level, cg, source, targets, delta);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    SPDLOG_TRACE(<span class="stringliteral">&quot;  Update property of transition graph &quot;</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; distances.size(); ++i) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordtype">double</span> tp = TransitionGraph::calc_tp(distances[i], eu_dist);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">if</span> (lb[i].cumu_prob &lt; iter-&gt;cumu_prob + tp * lb[i].ep) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        lb[i].cumu_prob = iter-&gt;cumu_prob + tp * lb[i].ep;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        lb[i].prev = &amp;(*iter);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        lb[i].tp = tp;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        lb[i].sp_dist = distances[i];</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Update layer done&quot;</span>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#af331e6d49f9e5eae93dad789e664253c">  189</a></span>&#160;std::vector&lt;double&gt; STMATCH::shortest_path_upperbound(</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">int</span> level, <span class="keyword">const</span> <a class="code" href="class_f_m_m_1_1_m_m_1_1_composite_graph.html">CompositeGraph</a> &amp;cg, <a class="code" href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html#afb9b00547afc39bc77ee8eb3d07f9bc5">NodeIndex</a> source,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">const</span> std::vector&lt;NodeIndex&gt; &amp;targets, <span class="keywordtype">double</span> delta) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Upperbound shortest path source {}&quot;</span>, source);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Upperbound shortest path targets {}&quot;</span>, targets);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  std::unordered_set&lt;NodeIndex&gt; unreached_targets;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;node:targets) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    unreached_targets.insert(node);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html#aa55d5dcb1196d2f70c0a10cb4407339c">DistanceMap</a> dmap;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html#adc611b60875465e2eb13ec9a946dd9cd">PredecessorMap</a> pmap;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html">Heap</a> Q;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  Q.<a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#a9710f68a293b229f5f02ab7757feb223">push</a>(source, 0);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  pmap.insert({source, source});</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  dmap.insert({source, 0});</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordtype">double</span> temp_dist = 0;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// Dijkstra search</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">while</span> (!Q.<a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#ae9630003ecbbdff49605e2ffc9db6a74">empty</a>() &amp;&amp; !unreached_targets.empty()) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node.html">HeapNode</a> node = Q.<a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#aee64a01bc014fd74066d7a36235c70a8">top</a>();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    Q.<a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#a0845814f69669fd83a4e3b2bf7ebbbc2">pop</a>();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    SPDLOG_TRACE(<span class="stringliteral">&quot;  Node u {} dist {}&quot;</span>, node.<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node.html#aac9c46fa8869184e5a0be3fdfe1ae886">index</a>, node.<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node.html#a293c8dac47adf7b1220b5246465ca255">value</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html#afb9b00547afc39bc77ee8eb3d07f9bc5">NodeIndex</a> u = node.<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node.html#aac9c46fa8869184e5a0be3fdfe1ae886">index</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">auto</span> iter = unreached_targets.find(u);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (iter != unreached_targets.end()) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="comment">// Remove u</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      SPDLOG_TRACE(<span class="stringliteral">&quot;  Remove target {}&quot;</span>, u);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      unreached_targets.erase(iter);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (node.<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node.html#a293c8dac47adf7b1220b5246465ca255">value</a> &gt; delta) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    std::vector&lt;CompEdgeProperty&gt; out_edges = cg.<a class="code" href="class_f_m_m_1_1_m_m_1_1_composite_graph.html#a42eb1eb004b79e62869f7e303e245b6f">out_edges</a>(u);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> node_iter = out_edges.begin(); node_iter != out_edges.end();</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;         ++node_iter) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html#afb9b00547afc39bc77ee8eb3d07f9bc5">NodeIndex</a> v = node_iter-&gt;v;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      temp_dist = node.<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node.html#a293c8dac47adf7b1220b5246465ca255">value</a> + node_iter-&gt;cost;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      SPDLOG_TRACE(<span class="stringliteral">&quot;  Examine node v {} temp dist {}&quot;</span>, v, temp_dist);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keyword">auto</span> v_iter = dmap.find(v);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">if</span> (v_iter != dmap.end()) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="comment">// dmap contains node v</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (v_iter-&gt;second - temp_dist &gt; 1e-6) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;          <span class="comment">// a smaller distance is found for v</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          SPDLOG_TRACE(<span class="stringliteral">&quot;    Update key {} {} in pdmap prev dist {}&quot;</span>,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                       v, temp_dist, v_iter-&gt;second);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;          pmap[v] = u;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;          dmap[v] = temp_dist;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;          Q.<a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#a7addc587f24e4396ec3b0d7a0c1056ec">decrease_key</a>(v, temp_dist);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="comment">// dmap does not contain v</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">if</span> (temp_dist &lt;= delta) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          SPDLOG_TRACE(<span class="stringliteral">&quot;    Insert key {} {} into pmap and dmap&quot;</span>,</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                       v, temp_dist);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;          Q.<a class="code" href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#a9710f68a293b229f5f02ab7757feb223">push</a>(v, temp_dist);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          pmap.insert({v, u});</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          dmap.insert({v, temp_dist});</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// Update distances</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;  Update distances&quot;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  std::vector&lt;double&gt; distances;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; targets.size(); ++i) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span> (dmap.find(targets[i]) != dmap.end()) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      distances.push_back(dmap[targets[i]]);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      distances.push_back(std::numeric_limits&lt;double&gt;::max());</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;  Distance value {}&quot;</span>, distances);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">return</span> distances;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#a169adfb927d251e03f146209e4c9c1c3">  261</a></span>&#160;<a class="code" href="namespace_f_m_m_1_1_m_m.html#ab319e9bef4adb9bc00c081573b6f765b">C_Path</a> STMATCH::build_cpath(<span class="keyword">const</span> <a class="code" href="namespace_f_m_m_1_1_m_m.html#a44e9375751c6c81feeda010b19c1eb16">TGOpath</a> &amp;opath, std::vector&lt;int&gt; *indices) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  SPDLOG_DEBUG(<span class="stringliteral">&quot;Build cpath from optimal candidate path&quot;</span>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="namespace_f_m_m_1_1_m_m.html#ab319e9bef4adb9bc00c081573b6f765b">C_Path</a> cpath;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (!indices-&gt;empty()) indices-&gt;clear();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (opath.empty()) <span class="keywordflow">return</span> cpath;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keyword">const</span> std::vector&lt;Edge&gt; &amp;edges = network_.get_edges();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordtype">int</span> N = opath.size();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  cpath.push_back(opath[0]-&gt;c-&gt;edge-&gt;id);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordtype">int</span> current_idx = 0;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  SPDLOG_TRACE(<span class="stringliteral">&quot;Insert index {}&quot;</span>, current_idx);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  indices-&gt;push_back(current_idx);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; N - 1; ++i) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html">Candidate</a> *a = opath[i]-&gt;c;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html">Candidate</a> *b = opath[i + 1]-&gt;c;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    SPDLOG_TRACE(<span class="stringliteral">&quot;Check a {} b {}&quot;</span>, a-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ae365a2e0c18277fe5109fb347de2a37f">id</a>, b-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ae365a2e0c18277fe5109fb347de2a37f">id</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> ((a-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ae365a2e0c18277fe5109fb347de2a37f">id</a> != b-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ae365a2e0c18277fe5109fb347de2a37f">id</a>) || (a-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#ad3cf459cf51b459381e0e03ce7c4d4c5">offset</a> &gt; b-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#ad3cf459cf51b459381e0e03ce7c4d4c5">offset</a>)) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keyword">auto</span> segs = graph_.shortest_path_dijkstra(a-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#aea442fa7c944e87b2aea41ffb175982d">target</a>,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                                b-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ac0978bf50901e262c32ae0b6de29e2d5">source</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="comment">// No transition found</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">if</span> (segs.empty() &amp;&amp; a-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#aea442fa7c944e87b2aea41ffb175982d">target</a> != b-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ac0978bf50901e262c32ae0b6de29e2d5">source</a>) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        indices-&gt;clear();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      SPDLOG_TRACE(<span class="stringliteral">&quot;Edges found {}&quot;</span>, segs);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e:segs) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        cpath.push_back(edges[e].<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        ++current_idx;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      cpath.push_back(b-&gt;<a class="code" href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">edge</a>-&gt;<a class="code" href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ae365a2e0c18277fe5109fb347de2a37f">id</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      ++current_idx;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      SPDLOG_TRACE(<span class="stringliteral">&quot;Insert index {}&quot;</span>, current_idx);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      indices-&gt;push_back(current_idx);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      SPDLOG_TRACE(<span class="stringliteral">&quot;Insert index {}&quot;</span>, current_idx);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      indices-&gt;push_back(current_idx);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  SPDLOG_DEBUG(<span class="stringliteral">&quot;Build cpath from optimal candidate path done&quot;</span>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">return</span> cpath;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclass_f_m_m_1_1_m_m_1_1_transition_graph_html"><div class="ttname"><a href="class_f_m_m_1_1_m_m_1_1_transition_graph.html">FMM::MM::TransitionGraph</a></div><div class="ttdoc">Transition graph class in HMM.</div><div class="ttdef"><b>Definition:</b> <a href="transition__graph_8hpp_source.html#l00054">transition_graph.hpp:54</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_m_m_html_a5713445758fdc15b3e6845ea5e156dc3"><div class="ttname"><a href="namespace_f_m_m_1_1_m_m.html#a5713445758fdc15b3e6845ea5e156dc3">FMM::MM::MatchedCandidatePath</a></div><div class="ttdeci">std::vector&lt; MatchedCandidate &gt; MatchedCandidatePath</div><div class="ttdoc">A vector of candidates, used for representing the matching result of a trajectory.</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00064">mm_type.hpp:64</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_c_o_r_e_1_1_trajectory_html_a3cd9b035cbe40dba26629030abb58305"><div class="ttname"><a href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html#a3cd9b035cbe40dba26629030abb58305">FMM::CORE::Trajectory::geom</a></div><div class="ttdeci">LineString geom</div><div class="ttdoc">Geometry of the trajectory.</div><div class="ttdef"><b>Definition:</b> <a href="gps_8hpp_source.html#l00028">gps.hpp:28</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html_a7fce2aead8d5913d35310f28ddafc146"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a7fce2aead8d5913d35310f28ddafc146">FMM::MM::STMATCHConfig::factor</a></div><div class="ttdeci">double factor</div><div class="ttdoc">factor multiplied to vmax*deltaT to limit the search of shortest path</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8hpp_source.html#l00048">stmatch_algorithm.hpp:48</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html_a8d7032b694c0fc4b44901986988ccafd"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a8d7032b694c0fc4b44901986988ccafd">FMM::MM::STMATCHConfig::load_from_arg</a></div><div class="ttdeci">static STMATCHConfig load_from_arg(const cxxopts::ParseResult &amp;arg_data)</div><div class="ttdoc">Load from argument parsed data.</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8cpp_source.html#l00037">stmatch_algorithm.cpp:37</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result_html_a327001e0d1deb5ceeb2b26a6d0a853df"><div class="ttname"><a href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#a327001e0d1deb5ceeb2b26a6d0a853df">FMM::PYTHON::PyMatchResult::mgeom</a></div><div class="ttdeci">CORE::LineString mgeom</div><div class="ttdoc">Geometry of the matched path.</div><div class="ttdef"><b>Definition:</b> <a href="pyfmm_8hpp_source.html#l00045">pyfmm.hpp:45</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_html"><div class="ttname"><a href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html">FMM::NETWORK::Heap</a></div><div class="ttdoc">Heap data structure used in the routing query</div><div class="ttdef"><b>Definition:</b> <a href="heap_8hpp_source.html#l00040">heap.hpp:40</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_m_m_html_ae34897f0e60dc6a0ac89b1041d20a7b6"><div class="ttname"><a href="namespace_f_m_m_1_1_m_m.html#ae34897f0e60dc6a0ac89b1041d20a7b6">FMM::MM::Traj_Candidates</a></div><div class="ttdeci">std::vector&lt; Point_Candidates &gt; Traj_Candidates</div><div class="ttdoc">trajectory candidates</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00038">mm_type.hpp:38</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_c_o_r_e_1_1_line_string_html_a792bb66beaab9c4eb008573ac715fd24"><div class="ttname"><a href="class_f_m_m_1_1_c_o_r_e_1_1_line_string.html#a792bb66beaab9c4eb008573ac715fd24">FMM::CORE::LineString::add_point</a></div><div class="ttdeci">void add_point(double x, double y)</div><div class="ttdoc">Add a point to the end of the current line.</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8hpp_source.html#l00079">geometry.hpp:79</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_candidate_html_a026650c8f5b4e7a66d2b644f5f107484"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a026650c8f5b4e7a66d2b644f5f107484">FMM::MM::Candidate::point</a></div><div class="ttdeci">FMM::CORE::Point point</div><div class="ttdoc">boost point</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00034">mm_type.hpp:34</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_m_m_html_a44e9375751c6c81feeda010b19c1eb16"><div class="ttname"><a href="namespace_f_m_m_1_1_m_m.html#a44e9375751c6c81feeda010b19c1eb16">FMM::MM::TGOpath</a></div><div class="ttdeci">std::vector&lt; const TGNode * &gt; TGOpath</div><div class="ttdoc">The optimal path of nodes in the transition graph.</div><div class="ttdef"><b>Definition:</b> <a href="transition__graph_8hpp_source.html#l00046">transition_graph.hpp:46</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html_a4ada86e8de3382dd2fa96adf4cb467a1"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4ada86e8de3382dd2fa96adf4cb467a1">FMM::MM::STMATCHConfig::vmax</a></div><div class="ttdeci">double vmax</div><div class="ttdoc">maximum speed of the vehicle, unit is map_unit/second</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8hpp_source.html#l00047">stmatch_algorithm.hpp:47</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_c_o_r_e_1_1_trajectory_html_a7d9c261e65d8e07fea53539ff1642500"><div class="ttname"><a href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html#a7d9c261e65d8e07fea53539ff1642500">FMM::CORE::Trajectory::timestamps</a></div><div class="ttdeci">std::vector&lt; double &gt; timestamps</div><div class="ttdoc">Timestamps of the trajectory.</div><div class="ttdef"><b>Definition:</b> <a href="gps_8hpp_source.html#l00029">gps.hpp:29</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_html_a7addc587f24e4396ec3b0d7a0c1056ec"><div class="ttname"><a href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#a7addc587f24e4396ec3b0d7a0c1056ec">FMM::NETWORK::Heap::decrease_key</a></div><div class="ttdeci">void decrease_key(NodeIndex index, double value)</div><div class="ttdoc">Decrease a node in the heap.</div><div class="ttdef"><b>Definition:</b> <a href="heap_8hpp_source.html#l00093">heap.hpp:93</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_candidate_html_a73d49f48f41d7ae725d91d90b3d76cd5"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a73d49f48f41d7ae725d91d90b3d76cd5">FMM::MM::Candidate::edge</a></div><div class="ttdeci">NETWORK::Edge * edge</div><div class="ttdoc">candidate edge</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00033">mm_type.hpp:33</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_matched_candidate_html_a9ce7eea008a460937be04542787e1e48"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a9ce7eea008a460937be04542787e1e48">FMM::MM::MatchedCandidate::c</a></div><div class="ttdeci">Candidate c</div><div class="ttdoc">Candidate matched to a point.</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00054">mm_type.hpp:54</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_html_aee64a01bc014fd74066d7a36235c70a8"><div class="ttname"><a href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#aee64a01bc014fd74066d7a36235c70a8">FMM::NETWORK::Heap::top</a></div><div class="ttdeci">HeapNode top()</div><div class="ttdoc">Get a copy of the top node in the heap.</div><div class="ttdef"><b>Definition:</b> <a href="heap_8hpp_source.html#l00063">heap.hpp:63</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_match_result_html"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_match_result.html">FMM::MM::MatchResult</a></div><div class="ttdoc">Map matched result representation.</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00069">mm_type.hpp:69</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_html_a9710f68a293b229f5f02ab7757feb223"><div class="ttname"><a href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#a9710f68a293b229f5f02ab7757feb223">FMM::NETWORK::Heap::push</a></div><div class="ttdeci">void push(NodeIndex index, double value)</div><div class="ttdoc">Push a node into the heap.</div><div class="ttdef"><b>Definition:</b> <a href="heap_8hpp_source.html#l00047">heap.hpp:47</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node_html"><div class="ttname"><a href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node.html">FMM::NETWORK::HeapNode</a></div><div class="ttdoc">Node in the heap structure.</div><div class="ttdef"><b>Definition:</b> <a href="heap_8hpp_source.html#l00022">heap.hpp:22</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result_html_adbfb5013db2c6651e905ed3326fdf16b"><div class="ttname"><a href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#adbfb5013db2c6651e905ed3326fdf16b">FMM::PYTHON::PyMatchResult::candidates</a></div><div class="ttdeci">std::vector&lt; PyCandidate &gt; candidates</div><div class="ttdoc">Candidate matched to each point.</div><div class="ttdef"><b>Definition:</b> <a href="pyfmm_8hpp_source.html#l00043">pyfmm.hpp:43</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node_html_aac9c46fa8869184e5a0be3fdfe1ae886"><div class="ttname"><a href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node.html#aac9c46fa8869184e5a0be3fdfe1ae886">FMM::NETWORK::HeapNode::index</a></div><div class="ttdeci">NodeIndex index</div><div class="ttdoc">Index of a node in the heap.</div><div class="ttdef"><b>Definition:</b> <a href="heap_8hpp_source.html#l00024">heap.hpp:24</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html_a6288cb6b2516fa54e7500a93f6fad633"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a6288cb6b2516fa54e7500a93f6fad633">FMM::MM::STMATCHConfig::gps_error</a></div><div class="ttdeci">double gps_error</div><div class="ttdoc">GPS error, unit is map_unit.</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8hpp_source.html#l00046">stmatch_algorithm.hpp:46</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_m_m_1_1_transition_graph_html_a22164ef2df27151dd8191b79dff4ad51"><div class="ttname"><a href="class_f_m_m_1_1_m_m_1_1_transition_graph.html#a22164ef2df27151dd8191b79dff4ad51">FMM::MM::TransitionGraph::backtrack</a></div><div class="ttdeci">TGOpath backtrack()</div><div class="ttdoc">Backtrack the transition graph to find an optimal path.</div><div class="ttdef"><b>Definition:</b> <a href="transition__graph_8cpp_source.html#l00062">transition_graph.cpp:62</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html_a9f8efc49f5875809d8107d879ea65c80"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a9f8efc49f5875809d8107d879ea65c80">FMM::MM::STMATCHConfig::radius</a></div><div class="ttdeci">double radius</div><div class="ttdoc">search radius for candidates, unit is map_unit</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8hpp_source.html#l00045">stmatch_algorithm.hpp:45</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge_html_ae365a2e0c18277fe5109fb347de2a37f"><div class="ttname"><a href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ae365a2e0c18277fe5109fb347de2a37f">FMM::NETWORK::Edge::id</a></div><div class="ttdeci">EdgeID id</div><div class="ttdoc">Edge ID, can be discontinuous integers.</div><div class="ttdef"><b>Definition:</b> <a href="type_8hpp_source.html#l00048">type.hpp:48</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_n_e_t_w_o_r_k_html_aa55d5dcb1196d2f70c0a10cb4407339c"><div class="ttname"><a href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html#aa55d5dcb1196d2f70c0a10cb4407339c">FMM::NETWORK::DistanceMap</a></div><div class="ttdeci">std::unordered_map&lt; NodeIndex, double &gt; DistanceMap</div><div class="ttdoc">Distance map.</div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00061">graph.hpp:61</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result_html"><div class="ttname"><a href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html">FMM::PYTHON::PyMatchResult</a></div><div class="ttdoc">POD Match result type used in Python API.</div><div class="ttdef"><b>Definition:</b> <a href="pyfmm_8hpp_source.html#l00039">pyfmm.hpp:39</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_m_m_html_ab319e9bef4adb9bc00c081573b6f765b"><div class="ttname"><a href="namespace_f_m_m_1_1_m_m.html#ab319e9bef4adb9bc00c081573b6f765b">FMM::MM::C_Path</a></div><div class="ttdeci">std::vector&lt; FMM::NETWORK::EdgeID &gt; C_Path</div><div class="ttdoc">Complete path, ids of a sequence of topologically connected edges.</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00047">mm_type.hpp:47</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_candidate_html_a01b3ffece734f634296ab1c119cbf858"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_candidate.html#a01b3ffece734f634296ab1c119cbf858">FMM::MM::Candidate::dist</a></div><div class="ttdeci">double dist</div><div class="ttdoc">distance from original point p to map matched point p'</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00032">mm_type.hpp:32</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_match_result_html_a43fe3c9d1b28a6f1e709367355dcd509"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_match_result.html#a43fe3c9d1b28a6f1e709367355dcd509">FMM::MM::MatchResult::cpath</a></div><div class="ttdeci">C_Path cpath</div><div class="ttdoc">the complete path, containing ids of a sequence of topologically connected edges traversed by the tra...</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00077">mm_type.hpp:77</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html_a4eca23ea9833cead180e09d2ca8c95f8"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a4eca23ea9833cead180e09d2ca8c95f8">FMM::MM::STMATCHConfig::print</a></div><div class="ttdeci">void print() const</div><div class="ttdoc">Print configuration data.</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8cpp_source.html#l00021">stmatch_algorithm.cpp:21</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html_a8f908241fd8ec5a62e95f48993aac749"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a8f908241fd8ec5a62e95f48993aac749">FMM::MM::STMATCHConfig::load_from_xml</a></div><div class="ttdeci">static STMATCHConfig load_from_xml(const boost::property_tree::ptree &amp;xml_data)</div><div class="ttdoc">Load from xml data.</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8cpp_source.html#l00027">stmatch_algorithm.cpp:27</a></div></div>
<div class="ttc" id="anamespace_f_m_m_html"><div class="ttname"><a href="namespace_f_m_m.html">FMM</a></div><div class="ttdoc">Fast map matching.</div><div class="ttdef"><b>Definition:</b> <a href="geom__algorithm_8hpp_source.html#l00017">geom_algorithm.hpp:17</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result_html_af45eb0e62513613dc24a1c1d4f7a46f3"><div class="ttname"><a href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#af45eb0e62513613dc24a1c1d4f7a46f3">FMM::PYTHON::PyMatchResult::indices</a></div><div class="ttdeci">std::vector&lt; int &gt; indices</div><div class="ttdoc">index of matched edge in the cpath</div><div class="ttdef"><b>Definition:</b> <a href="pyfmm_8hpp_source.html#l00044">pyfmm.hpp:44</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_c_o_r_e_1_1_trajectory_html"><div class="ttname"><a href="struct_f_m_m_1_1_c_o_r_e_1_1_trajectory.html">FMM::CORE::Trajectory</a></div><div class="ttdoc">Trajectory class</div><div class="ttdef"><b>Definition:</b> <a href="gps_8hpp_source.html#l00026">gps.hpp:26</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_m_m_1_1_composite_graph_html_a42eb1eb004b79e62869f7e303e245b6f"><div class="ttname"><a href="class_f_m_m_1_1_m_m_1_1_composite_graph.html#a42eb1eb004b79e62869f7e303e245b6f">FMM::MM::CompositeGraph::out_edges</a></div><div class="ttdeci">std::vector&lt; CompEdgeProperty &gt; out_edges(NETWORK::NodeIndex u) const</div><div class="ttdoc">Get out edges leaving a node u in the composite graph.</div><div class="ttdef"><b>Definition:</b> <a href="composite__graph_8cpp_source.html#l00146">composite_graph.cpp:146</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_n_e_t_w_o_r_k_1_1_network_html_a06edb186a8f2ccd27421daf2a8bac7ce"><div class="ttname"><a href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_network.html#a06edb186a8f2ccd27421daf2a8bac7ce">FMM::NETWORK::Network::search_tr_cs_knn</a></div><div class="ttdeci">FMM::MM::Traj_Candidates search_tr_cs_knn(FMM::CORE::Trajectory &amp;trajectory, std::size_t k, double radius) const</div><div class="ttdoc">Search for k nearest neighboring (KNN) candidates of a trajectory within a search radius.</div><div class="ttdef"><b>Definition:</b> <a href="network_8cpp_source.html#l00189">network.cpp:189</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result_html_acdfceb8d5b3ff3f2376f9805a39b1378"><div class="ttname"><a href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#acdfceb8d5b3ff3f2376f9805a39b1378">FMM::PYTHON::PyMatchResult::pgeom</a></div><div class="ttdeci">CORE::LineString pgeom</div><div class="ttdoc">Point position matched for each GPS point.</div><div class="ttdef"><b>Definition:</b> <a href="pyfmm_8hpp_source.html#l00046">pyfmm.hpp:46</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_match_result_html_a08b31edd0a0afeb7d532e7f270de370e"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_match_result.html#a08b31edd0a0afeb7d532e7f270de370e">FMM::MM::MatchResult::mgeom</a></div><div class="ttdeci">CORE::LineString mgeom</div><div class="ttdoc">the geometry of the matched path</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00081">mm_type.hpp:81</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_match_result_html_a0446d5d9304ee111236bbfb4cfcfca57"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_match_result.html#a0446d5d9304ee111236bbfb4cfcfca57">FMM::MM::MatchResult::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">id of the trajectory to be matched</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00070">mm_type.hpp:70</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_candidate_html"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_candidate.html">FMM::MM::Candidate</a></div><div class="ttdoc">Candidate edge matched to a GPS point</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00026">mm_type.hpp:26</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_html_a0845814f69669fd83a4e3b2bf7ebbbc2"><div class="ttname"><a href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#a0845814f69669fd83a4e3b2bf7ebbbc2">FMM::NETWORK::Heap::pop</a></div><div class="ttdeci">void pop()</div><div class="ttdoc">Pop a node from the heap.</div><div class="ttdef"><b>Definition:</b> <a href="heap_8hpp_source.html#l00054">heap.hpp:54</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_html_ae9630003ecbbdff49605e2ffc9db6a74"><div class="ttname"><a href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap.html#ae9630003ecbbdff49605e2ffc9db6a74">FMM::NETWORK::Heap::empty</a></div><div class="ttdeci">bool empty()</div><div class="ttdoc">Check if the heap is empty.</div><div class="ttdef"><b>Definition:</b> <a href="heap_8hpp_source.html#l00070">heap.hpp:70</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_matched_candidate_html_a570fdaf4ef35339477e9cddd704fa9a8"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a570fdaf4ef35339477e9cddd704fa9a8">FMM::MM::MatchedCandidate::tp</a></div><div class="ttdeci">double tp</div><div class="ttdoc">transition probability to previous matched candidate</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00056">mm_type.hpp:56</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_candidate_html_ad3cf459cf51b459381e0e03ce7c4d4c5"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_candidate.html#ad3cf459cf51b459381e0e03ce7c4d4c5">FMM::MM::Candidate::offset</a></div><div class="ttdeci">double offset</div><div class="ttdoc">offset distance from the start of polyline to p'</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00031">mm_type.hpp:31</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_c_o_r_e_html"><div class="ttname"><a href="namespace_f_m_m_1_1_c_o_r_e.html">FMM::CORE</a></div><div class="ttdoc">Core data types.</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8hpp_source.html#l00022">geometry.hpp:22</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_html_a0faf1b4e43066379667fa6a191b79c42"><div class="ttname"><a href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#a0faf1b4e43066379667fa6a191b79c42">FMM::MM::STMATCH::update_tg</a></div><div class="ttdeci">void update_tg(TransitionGraph *tg, const CompositeGraph &amp;cg, const CORE::Trajectory &amp;traj, const STMATCHConfig &amp;config)</div><div class="ttdoc">Update probabilities in a transition graph.</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8cpp_source.html#l00133">stmatch_algorithm.cpp:133</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result_html_a4a85d37cadc96500402e3878a5b01343"><div class="ttname"><a href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#a4a85d37cadc96500402e3878a5b01343">FMM::PYTHON::PyMatchResult::opath</a></div><div class="ttdeci">MM::O_Path opath</div><div class="ttdoc">Edge ID matched for each point of the trajectory</div><div class="ttdef"><b>Definition:</b> <a href="pyfmm_8hpp_source.html#l00041">pyfmm.hpp:41</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_c_o_r_e_1_1_line_string_html"><div class="ttname"><a href="class_f_m_m_1_1_c_o_r_e_1_1_line_string.html">FMM::CORE::LineString</a></div><div class="ttdoc">Linestring geometry class.</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8hpp_source.html#l00034">geometry.hpp:34</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_match_result_html_af357c5eb450fd7a09dcbd02ade55248f"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_match_result.html#af357c5eb450fd7a09dcbd02ade55248f">FMM::MM::MatchResult::opt_candidate_path</a></div><div class="ttdeci">MatchedCandidatePath opt_candidate_path</div><div class="ttdoc">A vector of candidate matched to each point of a trajectory.</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00071">mm_type.hpp:71</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_m_m_html"><div class="ttname"><a href="namespace_f_m_m_1_1_m_m.html">FMM::MM</a></div><div class="ttdoc">Class related with map matching.</div><div class="ttdef"><b>Definition:</b> <a href="composite__graph_8hpp_source.html#l00018">composite_graph.hpp:18</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_match_result_html_ae782d9a7ce9a6718f92149e87b17f9fd"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_match_result.html#ae782d9a7ce9a6718f92149e87b17f9fd">FMM::MM::MatchResult::opath</a></div><div class="ttdeci">O_Path opath</div><div class="ttdoc">the optimal path, containing id of edges matched to each point in a trajectory</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00074">mm_type.hpp:74</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_n_e_t_w_o_r_k_html"><div class="ttname"><a href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html">FMM::NETWORK</a></div><div class="ttdoc">Classes related with network and graph.</div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00021">graph.hpp:21</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_m_m_html_a5fe5a4a7accb676f64dd1a9ac74ddcac"><div class="ttname"><a href="namespace_f_m_m_1_1_m_m.html#a5fe5a4a7accb676f64dd1a9ac74ddcac">FMM::MM::O_Path</a></div><div class="ttdeci">std::vector&lt; FMM::NETWORK::EdgeID &gt; O_Path</div><div class="ttdoc">Optimal path, edge id matched to each point in the trajectory.</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00044">mm_type.hpp:44</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_m_m_1_1_dummy_graph_html"><div class="ttname"><a href="class_f_m_m_1_1_m_m_1_1_dummy_graph.html">FMM::MM::DummyGraph</a></div><div class="ttdoc">A graph containing dummy nodes and edges used in map matching.</div><div class="ttdef"><b>Definition:</b> <a href="composite__graph_8hpp_source.html#l00031">composite_graph.hpp:31</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_m_m_1_1_composite_graph_html"><div class="ttname"><a href="class_f_m_m_1_1_m_m_1_1_composite_graph.html">FMM::MM::CompositeGraph</a></div><div class="ttdoc">Composite Graph as a wrapper of network graph and dummy graph.</div><div class="ttdef"><b>Definition:</b> <a href="composite__graph_8hpp_source.html#l00136">composite_graph.hpp:136</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_n_e_t_w_o_r_k_1_1_network_graph_html_a1fb25f762b13811b9ecbbae9348dba76"><div class="ttname"><a href="class_f_m_m_1_1_n_e_t_w_o_r_k_1_1_network_graph.html#a1fb25f762b13811b9ecbbae9348dba76">FMM::NETWORK::NetworkGraph::get_node_id</a></div><div class="ttdeci">int get_node_id(NodeIndex idx) const</div><div class="ttdoc">Get node ID from a node index.</div><div class="ttdef"><b>Definition:</b> <a href="network__graph_8hpp_source.html#l00117">network_graph.hpp:117</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html">FMM::MM::STMATCHConfig</a></div><div class="ttdoc">Configuration of stmatch algorithm.</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8hpp_source.html#l00031">stmatch_algorithm.hpp:31</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result_html_ac7693d8ab7b07ad23fe96aa3e1244fc0"><div class="ttname"><a href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#ac7693d8ab7b07ad23fe96aa3e1244fc0">FMM::PYTHON::PyMatchResult::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">id of a trajectory</div><div class="ttdef"><b>Definition:</b> <a href="pyfmm_8hpp_source.html#l00040">pyfmm.hpp:40</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_c_o_r_e_html_a0b687e932225892c4d165994b67f07b1"><div class="ttname"><a href="namespace_f_m_m_1_1_c_o_r_e.html#a0b687e932225892c4d165994b67f07b1">FMM::CORE::wkt2linestring</a></div><div class="ttdeci">LineString wkt2linestring(const std::string &amp;wkt)</div><div class="ttdoc">Convert a wkt into a linestring.</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8cpp_source.html#l00042">geometry.cpp:42</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_match_result_html_a4aee2d2327e9f6f4029179cb176cb8e6"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_match_result.html#a4aee2d2327e9f6f4029179cb176cb8e6">FMM::MM::MatchResult::indices</a></div><div class="ttdeci">std::vector&lt; int &gt; indices</div><div class="ttdoc">index of opath edge in cpath</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00080">mm_type.hpp:80</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_matched_candidate_html"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html">FMM::MM::MatchedCandidate</a></div><div class="ttdoc">A candidate matched to a point.</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00053">mm_type.hpp:53</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_m_m_1_1_transition_graph_html_a0524ced137b747586da15ed28da4712f"><div class="ttname"><a href="class_f_m_m_1_1_m_m_1_1_transition_graph.html#a0524ced137b747586da15ed28da4712f">FMM::MM::TransitionGraph::get_layers</a></div><div class="ttdeci">std::vector&lt; TGLayer &gt; &amp; get_layers()</div><div class="ttdoc">Get a reference to the inner layers of the transition graph.</div><div class="ttdef"><b>Definition:</b> <a href="transition__graph_8cpp_source.html#l00086">transition_graph.cpp:86</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge_html_ac0978bf50901e262c32ae0b6de29e2d5"><div class="ttname"><a href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#ac0978bf50901e262c32ae0b6de29e2d5">FMM::NETWORK::Edge::source</a></div><div class="ttdeci">NodeIndex source</div><div class="ttdoc">source node index</div><div class="ttdef"><b>Definition:</b> <a href="type_8hpp_source.html#l00049">type.hpp:49</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_n_e_t_w_o_r_k_html_afb9b00547afc39bc77ee8eb3d07f9bc5"><div class="ttname"><a href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html#afb9b00547afc39bc77ee8eb3d07f9bc5">FMM::NETWORK::NodeIndex</a></div><div class="ttdeci">unsigned int NodeIndex</div><div class="ttdoc">Node Index in the network, range from [0,num_vertices-1 ].</div><div class="ttdef"><b>Definition:</b> <a href="type_8hpp_source.html#l00024">type.hpp:24</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_a_l_g_o_r_i_t_h_m_html_af621c133a7effad2cbea9e614367818a"><div class="ttname"><a href="namespace_f_m_m_1_1_a_l_g_o_r_i_t_h_m.html#af621c133a7effad2cbea9e614367818a">FMM::ALGORITHM::cal_eu_dist</a></div><div class="ttdeci">std::vector&lt; double &gt; cal_eu_dist(const FMM::CORE::LineString &amp;trajectory)</div><div class="ttdoc">Calculate segment length of a trajectory.</div><div class="ttdef"><b>Definition:</b> <a href="geom__algorithm_8cpp_source.html#l00007">geom_algorithm.cpp:7</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result_html_ad9f43bde5a423fa7aa1b5d3bc0d9d1f1"><div class="ttname"><a href="struct_f_m_m_1_1_p_y_t_h_o_n_1_1_py_match_result.html#ad9f43bde5a423fa7aa1b5d3bc0d9d1f1">FMM::PYTHON::PyMatchResult::cpath</a></div><div class="ttdeci">MM::C_Path cpath</div><div class="ttdoc">Edge ID traversed by the matched path.</div><div class="ttdef"><b>Definition:</b> <a href="pyfmm_8hpp_source.html#l00042">pyfmm.hpp:42</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_c_o_r_e_1_1_line_string_html_af84353cda3ddae7afbac33883be29145"><div class="ttname"><a href="class_f_m_m_1_1_c_o_r_e_1_1_line_string.html#af84353cda3ddae7afbac33883be29145">FMM::CORE::LineString::get_num_points</a></div><div class="ttdeci">int get_num_points() const</div><div class="ttdoc">Get the number of points in a line.</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8hpp_source.html#l00115">geometry.hpp:115</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_html_a6faa6ab5c3b4e446e57a11ebc12b4034"><div class="ttname"><a href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#a6faa6ab5c3b4e446e57a11ebc12b4034">FMM::MM::STMATCH::match_wkt</a></div><div class="ttdeci">PYTHON::PyMatchResult match_wkt(const std::string &amp;wkt, const STMATCHConfig &amp;config)</div><div class="ttdoc">Match a wkt linestring to the road network.</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8cpp_source.html#l00056">stmatch_algorithm.cpp:56</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge_html_a54256643086396646fbf2611ef708ea4"><div class="ttname"><a href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#a54256643086396646fbf2611ef708ea4">FMM::NETWORK::Edge::length</a></div><div class="ttdeci">double length</div><div class="ttdoc">length of the edge polyline</div><div class="ttdef"><b>Definition:</b> <a href="type_8hpp_source.html#l00051">type.hpp:51</a></div></div>
<div class="ttc" id="aclass_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_html_abeaa72ea2ad3e4b7679f03a2ac056b16"><div class="ttname"><a href="class_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h.html#abeaa72ea2ad3e4b7679f03a2ac056b16">FMM::MM::STMATCH::match_traj</a></div><div class="ttdeci">MatchResult match_traj(const CORE::Trajectory &amp;traj, const STMATCHConfig &amp;config)</div><div class="ttdoc">Match a trajectory to the road network.</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8cpp_source.html#l00088">stmatch_algorithm.cpp:88</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_n_e_t_w_o_r_k_html_adc611b60875465e2eb13ec9a946dd9cd"><div class="ttname"><a href="namespace_f_m_m_1_1_n_e_t_w_o_r_k.html#adc611b60875465e2eb13ec9a946dd9cd">FMM::NETWORK::PredecessorMap</a></div><div class="ttdeci">std::unordered_map&lt; NodeIndex, NodeIndex &gt; PredecessorMap</div><div class="ttdoc">Predecessor Map.</div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00055">graph.hpp:55</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_t_g_node_html"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_t_g_node.html">FMM::MM::TGNode</a></div><div class="ttdoc">A node in the transition graph.</div><div class="ttdef"><b>Definition:</b> <a href="transition__graph_8hpp_source.html#l00029">transition_graph.hpp:29</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_matched_candidate_html_a69781988abe154fd11693071be8d39b8"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a69781988abe154fd11693071be8d39b8">FMM::MM::MatchedCandidate::sp_dist</a></div><div class="ttdeci">double sp_dist</div><div class="ttdoc">shortest path distance to previous matched candidate</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00057">mm_type.hpp:57</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_m_m_html_acc79b4661cbb37632647cb2a8125e551"><div class="ttname"><a href="namespace_f_m_m_1_1_m_m.html#acc79b4661cbb37632647cb2a8125e551">FMM::MM::TGLayer</a></div><div class="ttdeci">std::vector&lt; TGNode &gt; TGLayer</div><div class="ttdoc">A layer of nodes in the transition graph.</div><div class="ttdef"><b>Definition:</b> <a href="transition__graph_8hpp_source.html#l00042">transition_graph.hpp:42</a></div></div>
<div class="ttc" id="anamespace_f_m_m_1_1_p_y_t_h_o_n_html"><div class="ttname"><a href="namespace_f_m_m_1_1_p_y_t_h_o_n.html">FMM::PYTHON</a></div><div class="ttdoc">Data type for Python API.</div><div class="ttdef"><b>Definition:</b> <a href="pyfmm_8hpp_source.html#l00019">pyfmm.hpp:19</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node_html_a293c8dac47adf7b1220b5246465ca255"><div class="ttname"><a href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_heap_node.html#a293c8dac47adf7b1220b5246465ca255">FMM::NETWORK::HeapNode::value</a></div><div class="ttdeci">double value</div><div class="ttdoc">Value of a node in the heap.</div><div class="ttdef"><b>Definition:</b> <a href="heap_8hpp_source.html#l00025">heap.hpp:25</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge_html_aea442fa7c944e87b2aea41ffb175982d"><div class="ttname"><a href="struct_f_m_m_1_1_n_e_t_w_o_r_k_1_1_edge.html#aea442fa7c944e87b2aea41ffb175982d">FMM::NETWORK::Edge::target</a></div><div class="ttdeci">NodeIndex target</div><div class="ttdoc">target node index</div><div class="ttdef"><b>Definition:</b> <a href="type_8hpp_source.html#l00050">type.hpp:50</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html_a03e698b059a77700d9614369c65c7cd9"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a03e698b059a77700d9614369c65c7cd9">FMM::MM::STMATCHConfig::k</a></div><div class="ttdeci">int k</div><div class="ttdoc">number of candidates</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8hpp_source.html#l00044">stmatch_algorithm.hpp:44</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_matched_candidate_html_a41a90b037fa57a4d097fb5a13ed2ce70"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_matched_candidate.html#a41a90b037fa57a4d097fb5a13ed2ce70">FMM::MM::MatchedCandidate::ep</a></div><div class="ttdeci">double ep</div><div class="ttdoc">emission probability</div><div class="ttdef"><b>Definition:</b> <a href="mm__type_8hpp_source.html#l00055">mm_type.hpp:55</a></div></div>
<div class="ttc" id="astruct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config_html_a25967120d6ae4ec4821645131c8fe568"><div class="ttname"><a href="struct_f_m_m_1_1_m_m_1_1_s_t_m_a_t_c_h_config.html#a25967120d6ae4ec4821645131c8fe568">FMM::MM::STMATCHConfig::validate</a></div><div class="ttdeci">bool validate() const</div><div class="ttdoc">Check the validity of the configuration.</div><div class="ttdef"><b>Definition:</b> <a href="stmatch__algorithm_8cpp_source.html#l00047">stmatch_algorithm.cpp:47</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
